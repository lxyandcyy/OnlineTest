{"version":3,"sources":["webpack:///./src/components/Show.vue?e343","webpack:///./src/views/Admin/Context/ManagePaper/EditPaper.vue?4e0d","webpack:///./src/components/Show.vue?e661","webpack:///src/components/Show.vue","webpack:///./src/components/Show.vue?4826","webpack:///./src/components/Show.vue","webpack:///src/views/Admin/Context/ManagePaper/EditPaper.vue","webpack:///./src/views/Admin/Context/ManagePaper/EditPaper.vue?6e32","webpack:///./src/views/Admin/Context/ManagePaper/EditPaper.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","form","rules","model","value","callback","$$v","$set","expression","staticClass","staticStyle","on","$event","addQuestion","_v","questionItems","length","_l","item","index","key","splice","_e","submitForm","resetForm","questionPage","showDialog","queryParam","queryForm","directives","name","rawName","tableData","handleSelectionChange","slot","confirmQuestionSelect","staticRenderFns","_s","question","topic","prefix","content","data","test","props","type","Object","default","qLoading","Boolean","qType","Number","methods","component","components","created","console","log","id","$api","subject_id","countdown","multipleSelection","pageIndex","pageSize","listLoading","total","search","QueList","then","res","$refs","resetFields","val","forEach","create_time","Date","now","validate","valid"],"mappings":"yIAAA,yBAA4lB,EAAG,G,yCCA/lB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,UAAU,CAACG,IAAI,OAAOD,MAAM,CAAC,MAAQN,EAAIQ,KAAK,cAAc,QAAQ,MAAQR,EAAIS,QAAQ,CAACL,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,SAAW,KAAK,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,SAASI,MAAM,CAACC,MAAOX,EAAIQ,KAAe,WAAEI,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIQ,KAAM,aAAcK,IAAME,WAAW,sBAAsB,GAAGX,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,OAAO,SAAW,KAAK,CAACF,EAAG,WAAW,CAACM,MAAM,CAACC,MAAOX,EAAIQ,KAAS,KAAEI,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIQ,KAAM,OAAQK,IAAME,WAAW,eAAeX,EAAG,YAAY,CAACY,YAAY,YAAYC,YAAY,CAAC,cAAc,QAAQX,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,iBAAiB,CAACpB,EAAIqB,GAAG,YAA+C,IAAlCrB,EAAIQ,KAAKc,cAAcC,OAAcnB,EAAG,UAAU,CAACY,YAAY,sBAAsBhB,EAAIwB,GAAIxB,EAAIQ,KAAkB,eAAE,SAASiB,EAAKC,GAAO,OAAOtB,EAAG,eAAe,CAACuB,IAAID,EAAMT,YAAY,CAAC,gBAAgB,QAAQX,MAAM,CAAC,MAAQ,MAAQoB,EAAQ,GAAK,MAAM,CAACtB,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,SAAWmB,MAAS,GAAGrB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIQ,KAAKc,cAAcM,OAAOF,EAAO,MAAM,CAAC1B,EAAIqB,GAAG,SAAS,IAAI,IAAI,MAAK,GAAGrB,EAAI6B,MAAM,GAAGzB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,YAAY,SAAW,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,MAAMI,MAAM,CAACC,MAAOX,EAAIQ,KAAc,UAAEI,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIQ,KAAM,YAAaK,IAAME,WAAW,qBAAqB,GAAGX,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQlB,EAAI8B,aAAa,CAAC9B,EAAIqB,GAAG,QAAQjB,EAAG,YAAY,CAACc,GAAG,CAAC,MAAQlB,EAAI+B,YAAY,CAAC/B,EAAIqB,GAAG,SAAS,IAAI,GAAGjB,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUN,EAAIgC,aAAaC,WAAW,MAAQ,OAAOf,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOnB,EAAIc,KAAKd,EAAIgC,aAAc,aAAcb,MAAW,CAACf,EAAG,UAAU,CAACG,IAAI,YAAYD,MAAM,CAAC,MAAQN,EAAIgC,aAAaE,WAAW,QAAS,IAAO,CAAC9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAII,MAAM,CAACC,MAAOX,EAAIgC,aAAaE,WAAa,GAAEtB,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIgC,aAAaE,WAAY,KAAMrB,IAAME,WAAW,iCAAiC,GAAGX,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAII,MAAM,CAACC,MAAOX,EAAIgC,aAAaE,WAAgB,MAAEtB,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIgC,aAAaE,WAAY,QAASrB,IAAME,WAAW,oCAAoC,GAAGX,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQlB,EAAImC,YAAY,CAACnC,EAAIqB,GAAG,SAAS,IAAI,GAAGjB,EAAG,WAAW,CAACgC,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAY3B,MAAOX,EAAIgC,aAAwB,YAAEjB,WAAW,6BAA6BE,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,KAAON,EAAIgC,aAAaO,UAAU,OAAS,GAAG,IAAM,GAAG,wBAAwB,IAAIrB,GAAG,CAAC,mBAAmBlB,EAAIwC,wBAAwB,CAACpC,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,aAAa,MAAQ,KAAK,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,wBAAwB,OAAO,GAAGF,EAAG,OAAO,CAACY,YAAY,gBAAgBV,MAAM,CAAC,KAAO,UAAUmC,KAAK,UAAU,CAACrC,EAAG,YAAY,CAACc,GAAG,CAAC,MAAQ,SAASC,GAAQnB,EAAIgC,aAAaC,YAAa,KAAS,CAACjC,EAAIqB,GAAG,SAASjB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQlB,EAAI0C,wBAAwB,CAAC1C,EAAIqB,GAAG,SAAS,IAAI,IAAI,IACrjHsB,EAAkB,GCDlB,G,kDAAS,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACa,YAAY,CAAC,cAAc,QAAQ,CAACb,EAAG,MAAM,CAACgC,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAY3B,MAAOX,EAAY,SAAEe,WAAW,cAAc,CAACX,EAAG,MAAM,CAACY,YAAY,WAAW,CAAChB,EAAIqB,GAAGrB,EAAI4C,GAAG5C,EAAI6C,SAASC,UAAU1C,EAAG,MAAM,CAACY,YAAY,aAAahB,EAAIwB,GAAIxB,EAAI6C,SAAgB,SAAE,SAASpB,GAAM,OAAOrB,EAAG,OAAO,CAACuB,IAAIF,EAAKsB,QAAQ,CAAC3C,EAAG,OAAO,CAACY,YAAY,iBAAiB,CAAChB,EAAIqB,GAAGrB,EAAI4C,GAAGnB,EAAKsB,QAAQ,QAAQ3C,EAAG,OAAO,CAACY,YAAY,kBAAkB,CAAChB,EAAIqB,GAAGrB,EAAI4C,GAAGnB,EAAKuB,iBAAgB,SACvkB,EAAkB,GCwCtB,G,UAAA,CACEX,KAAM,eACNY,KAFF,WAGI,MAAO,CACLC,MAAM,IAGVC,MAAO,CACLN,SAAU,CACRO,KAAMC,OACNC,QAAS,WACP,MAAO,KAGXC,SAAU,CACRH,KAAMI,QACNF,SAAS,GAEXG,MAAO,CACLL,KAAMM,OACNJ,QAAS,IAGbK,QAAS,KChE8X,I,wBCQrYC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QC8Ff,GACEC,WAAY,CAAd,gBACEC,QAFF,WAEA,WAIA,uBACIC,QAAQC,IAAI,cAAeC,GAG3BhE,KAAKiE,KACT,YACA,kBACM,QAAN,uBACM,EAAN,MACQ,GAAR,SACQ,WAAR,iBACQ,KAAR,WACQ,UAAR,gBACQ,cAAR,iBAEM,QAAN,eAEA,mBAAM,OAAN,mBAEEjB,KAzBF,WA0BI,MAAO,CACLzC,KAAM,CACJyD,GAAI,KACJE,WAAY,EACZ9B,KAAM,GACN+B,UAAW,KACX9C,cAAe,IAEjBU,aAAc,CACZqC,kBAAmB,GACnBpC,YAAY,EACZC,WAAY,CACV+B,GAAI,KACJE,WAAY,EACZG,UAAW,EACXC,SAAU,GAEZC,aAAa,EACbjC,UAAW,KACXkC,MAAO,GAEThE,MAAO,CACL0D,WAAY,CACpB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,WAEQ9B,KAAM,CAAC,CAAf,+CACQ+B,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,YAKET,QAAS,CACPvC,YADJ,WAEMnB,KAAKyE,SACLzE,KAAK+B,aAAaC,YAAa,GAEjCyC,OALJ,WAKA,WAEMzE,KAAK+B,aAAaE,WAAWiC,WAAalE,KAAKO,KAAK2D,WAEpDlE,KAAKiE,KAAKS,UAAUC,MAAK,SAA/B,GACQb,QAAQC,IAAI,QAASa,GACrB,EAAR,yBAGQ,EAAR,gCAII9C,UAlBJ,WAmBM9B,KAAK6E,MAAM,QAAQC,eAGrB5C,UAtBJ,aAwBIK,sBAxBJ,SAwBA,GACMvC,KAAK+B,aAAaqC,kBAAoBW,EACtCjB,QAAQC,IAAIgB,IAEdtC,sBA5BJ,WA4BA,WACMzC,KAAK+B,aAAaqC,kBAAkBY,SAAQ,SAAlD,GACQ,EAAR,8BAEMhF,KAAK+B,aAAaC,YAAa,GAEjCH,WAlCJ,WAkCA,WAEM7B,KAAKO,KAAK0E,YAAcC,KAAKC,MAE7BnF,KAAK6E,MAAMtE,KAAK6E,UAAS,SAA/B,GAEQ,IAAIC,EAeF,OADA,EAAV,4BACiB,EAdP,EAAV,KACA,kBACA,kBACY,QAAZ,OACY,EAAZ,4BAEY,EAAZ,cAAc,KAAd,0BAEA,mBACY,QAAZ,OACY,EAAZ,gBAAc,QAAd,2BC9Noc,ICOhc,EAAY,eACd,EACAvF,EACA4C,GACA,EACA,KACA,WACA,MAIa,e","file":"js/chunk-6daa4d81.0ade1cdb.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&id=48de8eb9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&id=48de8eb9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"edit-paper\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"学科\",\"prop\":\"subject_id\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择学科\"},model:{value:(_vm.form.subject_id),callback:function ($$v) {_vm.$set(_vm.form, \"subject_id\", $$v)},expression:\"form.subject_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"试卷名称：\",\"prop\":\"name\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('el-button',{staticClass:\"link-left\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addQuestion()}}},[_vm._v(\" 添加题目 \")]),(_vm.form.questionItems.length !== 0)?_c('el-card',{staticClass:\"exampaper-item-box\"},_vm._l((_vm.form.questionItems),function(item,index){return _c('el-form-item',{key:index,staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"label\":'题目' + (index + 1) + '：'}},[_c('el-row',[_c('el-col',{attrs:{\"span\":23}},[_c('QuestionShow',{attrs:{\"question\":item}})],1),_c('el-col',{attrs:{\"span\":1}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.form.questionItems.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)],1)}),1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"时长：\",\"prop\":\"countdown\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"分钟\"},model:{value:(_vm.form.countdown),callback:function ($$v) {_vm.$set(_vm.form, \"countdown\", $$v)},expression:\"form.countdown\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.questionPage.showDialog,\"width\":\"70%\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.questionPage, \"showDialog\", $event)}}},[_c('el-form',{ref:\"queryForm\",attrs:{\"model\":_vm.questionPage.queryParam,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"ID：\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.questionPage.queryParam.id),callback:function ($$v) {_vm.$set(_vm.questionPage.queryParam, \"id\", $$v)},expression:\"questionPage.queryParam.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"题干：\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.questionPage.queryParam.topic),callback:function ($$v) {_vm.$set(_vm.questionPage.queryParam, \"topic\", $$v)},expression:\"questionPage.queryParam.topic\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.queryForm}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.questionPage.listLoading),expression:\"questionPage.listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.questionPage.tableData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"35\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"Id\",\"width\":\"60px\"}}),_c('el-table-column',{attrs:{\"prop\":\"subject_id\",\"label\":\"学科\",\"width\":\"70px\"}}),_c('el-table-column',{attrs:{\"prop\":\"topic\",\"label\":\"题干\",\"show-overflow-tooltip\":\"\"}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.questionPage.showDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmQuestionSelect}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"line-height\":\"1.8\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.qLoading),expression:\"qLoading\"}]},[_c('div',{staticClass:\"q-topic\"},[_vm._v(_vm._s(_vm.question.topic))]),_c('div',{staticClass:\"q-options\"},_vm._l((_vm.question.options),function(item){return _c('span',{key:item.prefix},[_c('span',{staticClass:\"q-item-prefix\"},[_vm._v(_vm._s(item.prefix)+\". \")]),_c('span',{staticClass:\"q-item-content\"},[_vm._v(_vm._s(item.content))])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"line-height:1.8\">\r\n    <div v-loading=\"qLoading\">\r\n      <div class=\"q-topic\">{{ question.topic }}</div>\r\n      <div class=\"q-options\">\r\n        <span :key=\"item.prefix\" v-for=\"item in question.options\">\r\n          <span class=\"q-item-prefix\">{{ item.prefix }}. </span>\r\n          <span class=\"q-item-content\">{{ item.content }}</span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <!-- <div v-if=\"qType == 2\" v-loading=\"qLoading\">\r\n      <div class=\"q-topic\" v-html=\"question.topic\" />\r\n      <div class=\"q-content\">\r\n        <span\r\n          :key=\"item.id\"\r\n          v-for=\"item in question.items\"\r\n          class=\"q-item-contain\"\r\n        >\r\n          <span class=\"q-item-prefix\">{{ item.prefix }}</span>\r\n          <span v-html=\"item.content\" class=\"q-item-content\"></span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div v-else-if=\"qType == 3\" v-loading=\"qLoading\">\r\n      <div\r\n        class=\"q-topic\"\r\n        v-html=\"question.topic\"\r\n        style=\"display: inline;margin-right: 10px\"\r\n      />\r\n      <span>（</span>\r\n      <span :key=\"item.id\" v-for=\"item in question.items\">\r\n        <span v-html=\"item.content\" class=\"q-item-content\"></span>\r\n      </span>\r\n      <span>）</span>\r\n    </div>\r\n    <div v-else>哈哈哈哈哈</div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"QuestionShow\",\r\n  data() {\r\n    return {\r\n      test: true\r\n    };\r\n  },\r\n  props: {\r\n    question: {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      }\r\n    },\r\n    qLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    qType: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.q-options {\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=48de8eb9&scoped=true&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Show.vue?vue&type=style&index=0&id=48de8eb9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48de8eb9\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"edit-paper\">\r\n    <!-- 表单 -->\r\n    <el-form :model=\"form\" ref=\"form\" label-width=\"100px\" :rules=\"rules\">\r\n      <el-form-item label=\"学科\" prop=\"subject_id\" required>\r\n        <el-select v-model=\"form.subject_id\" placeholder=\"请选择学科\">\r\n          <!-- <el-option\r\n            v-for=\"(item, index) in QueType\"\r\n            :key=\"index\"\r\n            :value=\"item\"\r\n            :label=\"item\"\r\n          ></el-option> -->\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"试卷名称：\" prop=\"name\" required>\r\n        <el-input v-model=\"form.name\" />\r\n        <el-button\r\n          type=\"text\"\r\n          class=\"link-left\"\r\n          style=\"margin-left: 20px\"\r\n          size=\"mini\"\r\n          @click=\"addQuestion()\"\r\n        >\r\n          添加题目\r\n        </el-button>\r\n        <el-card\r\n          class=\"exampaper-item-box\"\r\n          v-if=\"form.questionItems.length !== 0\"\r\n        >\r\n          <el-form-item\r\n            :key=\"index\"\r\n            :label=\"'题目' + (index + 1) + '：'\"\r\n            v-for=\"(item, index) in form.questionItems\"\r\n            style=\"margin-bottom: 15px\"\r\n          >\r\n            <el-row>\r\n              <el-col :span=\"23\">\r\n                <QuestionShow :question=\"item\" />\r\n              </el-col>\r\n              <el-col :span=\"1\">\r\n                <el-button\r\n                  type=\"text\"\r\n                  size=\"mini\"\r\n                  @click=\"form.questionItems.splice(index, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-col>\r\n            </el-row>\r\n          </el-form-item>\r\n        </el-card>\r\n      </el-form-item>\r\n      <el-form-item label=\"时长：\" prop=\"countdown\" required>\r\n        <el-input v-model=\"form.countdown\" placeholder=\"分钟\" />\r\n      </el-form-item>\r\n      <!-- 事件按钮 -->\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\r\n        <el-button @click=\"resetForm\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 添加题目弹出框 -->\r\n    <el-dialog :visible.sync=\"questionPage.showDialog\" width=\"70%\">\r\n      <!-- 题目查询栏 -->\r\n      <el-form :model=\"questionPage.queryParam\" ref=\"queryForm\" :inline=\"true\">\r\n        <el-form-item label=\"ID：\">\r\n          <el-input v-model=\"questionPage.queryParam.id\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"题干：\">\r\n          <el-input\r\n            v-model=\"questionPage.queryParam.topic\"\r\n            clearable\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"queryForm\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 题目列表 -->\r\n      <el-table\r\n        v-loading=\"questionPage.listLoading\"\r\n        :data=\"questionPage.tableData\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        border\r\n        fit\r\n        highlight-current-row\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"35\"></el-table-column>\r\n        <el-table-column prop=\"id\" label=\"Id\" width=\"60px\" />\r\n        <el-table-column prop=\"subject_id\" label=\"学科\" width=\"70px\" />\r\n        <el-table-column prop=\"topic\" label=\"题干\" show-overflow-tooltip />\r\n      </el-table>\r\n      <!-- <pagination\r\n        v-show=\"questionPage.total > 0\"\r\n        :total=\"questionPage.total\"\r\n        :page.sync=\"questionPage.queryParam.pageIndex\"\r\n        :limit.sync=\"questionPage.queryParam.pageSize\"\r\n        @pagination=\"search\"\r\n      /> -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"questionPage.showDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmQuestionSelect\"\r\n          >确定</el-button\r\n        >\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QuestionShow from \"@/components/Show\";\r\n\r\nexport default {\r\n  components: { QuestionShow },\r\n  created() {\r\n    //获取学科数据\r\n    // ......\r\n\r\n    let id = this.$route.query.id;\r\n    console.log(\"当前编辑的试卷id是：\", id);\r\n\r\n    //获取试卷初始数据\r\n    this.$api\r\n      .SelPaper(id)\r\n      .then(res => {\r\n        console.log(\"当前编辑的试卷初始数据是：\", res);\r\n        this.form = {\r\n          id: res.pap.id,\r\n          subject_id: res.pap.subject_id,\r\n          name: res.pap.name,\r\n          countdown: res.pap.countdown,\r\n          questionItems: res.questionItems\r\n        };\r\n        console.log(this.form);\r\n      })\r\n      .catch(err => console.log(err));\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        id: null,\r\n        subject_id: 1,\r\n        name: \"\",\r\n        countdown: null,\r\n        questionItems: []\r\n      },\r\n      questionPage: {\r\n        multipleSelection: [],\r\n        showDialog: false,\r\n        queryParam: {\r\n          id: null,\r\n          subject_id: 1,\r\n          pageIndex: 1,\r\n          pageSize: 5\r\n        },\r\n        listLoading: true,\r\n        tableData: null, //所有题目\r\n        total: 0\r\n      },\r\n      rules: {\r\n        subject_id: [\r\n          { required: true, message: \"请选择学科\", trigger: \"change\" }\r\n        ],\r\n        name: [{ required: true, message: \"请输入试卷名称\", trigger: \"blur\" }],\r\n        countdown: [\r\n          { required: true, message: \"请输入考试时长\", trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    addQuestion() {\r\n      this.search();\r\n      this.questionPage.showDialog = true;\r\n    },\r\n    search() {\r\n      //   翻页||加载题目列表\r\n      this.questionPage.queryParam.subject_id = this.form.subject_id; //添加题目的学科与试卷的学科对应\r\n      //   获取题库列表\r\n      this.$api.QueList().then(res => {\r\n        console.log(\"题库列表：\", res);\r\n        this.questionPage.tableData = res;\r\n        // this.questionPage.total = res.length;\r\n        // this.questionPage.queryParam.pageIndex = res.length;\r\n        this.questionPage.listLoading = false;\r\n      });\r\n    },\r\n    // 重置\r\n    resetForm() {\r\n      this.$refs[\"form\"].resetFields();\r\n    },\r\n    // 查询\r\n    queryForm() {},\r\n    //题目选择复选框改变时\r\n    handleSelectionChange(val) {\r\n      this.questionPage.multipleSelection = val;\r\n      console.log(val);\r\n    },\r\n    confirmQuestionSelect() {\r\n      this.questionPage.multipleSelection.forEach(q => {\r\n        this.form.questionItems.push(q);\r\n      });\r\n      this.questionPage.showDialog = false;\r\n    },\r\n    submitForm() {\r\n      //题目创建时间=当前提交时间\r\n      this.form.create_time = Date.now();\r\n\r\n      this.$refs.form.validate(valid => {\r\n        //如果表单填写完整\r\n        if (valid) {\r\n          this.$api\r\n            .EditPaper(this.form)\r\n            .then(res => {\r\n              console.log(res);\r\n              this.$message.success(\"试卷编辑成功！\");\r\n              //   跳转到‘试卷列表’页面\r\n              this.$router.push({ path: \"/layout/paper-bank\" });\r\n            })\r\n            .catch(e => {\r\n              console.log(e);\r\n              this.$message.error({ content: \"编辑试卷失败，请检查网络！\" });\r\n            });\r\n        } else {\r\n          this.$message.info(\"请把表单填写完整！\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPaper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPaper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPaper.vue?vue&type=template&id=087d3c99&scoped=true&\"\nimport script from \"./EditPaper.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPaper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"087d3c99\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}